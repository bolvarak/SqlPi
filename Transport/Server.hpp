///////////////////////////////////////////////////////////////////////////////
/// Definitions //////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

#ifndef SQLPI_TRANSPORT_SERVER_HPP
#define SQLPI_TRANSPORT_SERVER_HPP

///////////////////////////////////////////////////////////////////////////////
/// Headers //////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

#include <QAbstractSocket>
#include <QTcpServer>
#include <QTcpSocket>
#include "../Connection/Client.hpp"

///////////////////////////////////////////////////////////////////////////////
/// SqlPi Namespace //////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

namespace SqlPi
{
	///////////////////////////////////////////////////////////////////////////
	/// SqlPi::Transport Namespace ///////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////

	namespace Transport
	{
		///////////////////////////////////////////////////////////////////////
		/// SqlPi::Transport::Server Class Definition ////////////////////////
		/////////////////////////////////////////////////////////////////////

		class Server : public QTcpServer
		{
				/**
				 * Qt Recognition
				 */
				Q_OBJECT

			///////////////////////////////////////////////////////////////////
			/// Public Methods & Properties //////////////////////////////////
			/////////////////////////////////////////////////////////////////

			public:

				///////////////////////////////////////////////////////////////
				/// Constructor //////////////////////////////////////////////
				/////////////////////////////////////////////////////////////

				/**
				 * @paragraph This method instantiates a new server
				 * @brief SqlPi::Transport::Server::Server()
				 * @param QObject* qoParent [0]
				 */
				explicit Server(QObject* qoParent = 0);

				///////////////////////////////////////////////////////////////
				/// Methods //////////////////////////////////////////////////
				/////////////////////////////////////////////////////////////

				/**
				 * @paragraph This method starts the server itself
				 * @brief SqlPi::Transport::Server::start()
				 * @return void
				 */
				void start();

			///////////////////////////////////////////////////////////////////
			/// Public Slots /////////////////////////////////////////////////
			/////////////////////////////////////////////////////////////////

			public slots:

				/**
				 * @paragraph This method gets executed when there is a new client connection
				 * @brief SqlPi::Transport::Server::client()
				 * @return void
				 */
				void client();

		///////////////////////////////////////////////////////////////////////
		}; /// End SqlPi::Transport::Server Class Definition /////////////////
		/////////////////////////////////////////////////////////////////////

	///////////////////////////////////////////////////////////////////////////
	} /// End SqlPi::Transport::Namespace ////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
} /// End SqlPi Namespace ////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
#endif /// End Definitions ///////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
