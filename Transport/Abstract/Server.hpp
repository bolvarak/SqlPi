/////////////////////////////////////////////////////////////////////////////////////////
/// Definitions ////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////

#ifndef SQLPI_TRANSPORT_ABSTRACT_SERVER_HPP
#define SQLPI_TRANSPORT_ABSTRACT_SERVER_HPP

/////////////////////////////////////////////////////////////////////////////////////////
/// Headers ////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////

#include <QObject>
#include <QString>
#include "../../Process/Configuration.hpp"

/////////////////////////////////////////////////////////////////////////////////////////
/// SqlPi Namespace ////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////

namespace SqlPi
{
	/////////////////////////////////////////////////////////////////////////////////////
	/// SqlPi::Transport Namespace /////////////////////////////////////////////////////
	///////////////////////////////////////////////////////////////////////////////////

	namespace Transport
	{
		/////////////////////////////////////////////////////////////////////////////////
		/// SqlPi::Transport::Abstract Namespace ///////////////////////////////////////
		///////////////////////////////////////////////////////////////////////////////

		namespace Abstract
		{
			/////////////////////////////////////////////////////////////////////////////
			/// SqlPi::Transport::Abstract::Server Class Definition ////////////////////
			///////////////////////////////////////////////////////////////////////////

			class Server
			{
				/////////////////////////////////////////////////////////////////////////
				/// Public Methods & Properties ////////////////////////////////////////
				///////////////////////////////////////////////////////////////////////

				public:

					/////////////////////////////////////////////////////////////////////
					/// Constructor ////////////////////////////////////////////////////
					///////////////////////////////////////////////////////////////////

					/**
					 * @paragraph This method instantiate a new server object
					 * @brief SqlPi::Transport::Abstract::Server::Server()
					 */
					Server();

					/////////////////////////////////////////////////////////////////////
					/// Abstract Methods ///////////////////////////////////////////////
					///////////////////////////////////////////////////////////////////

					/**
					 * @abstract
					 * @paragraph This method tells the server to await new connections
					 * @brief SqlPi::Transport::Abstract::Server::await()
					 * @return void
					 */
					virtual void await() = 0;

				/////////////////////////////////////////////////////////////////////////
				/// Public Slots ///////////////////////////////////////////////////////
				///////////////////////////////////////////////////////////////////////

				public slots:

					/////////////////////////////////////////////////////////////////////
					/// Abstract Slots /////////////////////////////////////////////////
					///////////////////////////////////////////////////////////////////

					/**
					 * @abstract
					 * @paragraph This method executes when a new client connects
					 * @brief SqlPi::Transport::Abstract::Server::client()
					 * @return void
					 */
					virtual void client() = 0;

					/**
					 * @abstract
					 * @paragraph This method executes when a client disconnects
					 * @brief SqlPi::Transport::Abstract::Server::shutdown()
					 * @return void
					 */
					virtual void shutdown() = 0;

				/////////////////////////////////////////////////////////////////////////
				/// Signals ////////////////////////////////////////////////////////////
				///////////////////////////////////////////////////////////////////////

				signals:

					/**
					 * @paragraph This signal is emitted when an error occurs
					 * @brief SqlPi::Transport::Abstract::Server::error()
					 * @param QString strError
					 * @param int intErrorCode [0]
					 * @return void
					 */
					void error(QString strError, int intErrorCode = 0);

			/////////////////////////////////////////////////////////////////////////////
			}; /// End SqlPi::Transport::Abstract::Server Class Definition /////////////
			///////////////////////////////////////////////////////////////////////////

		/////////////////////////////////////////////////////////////////////////////////
		} /// End SqlPi::Transport::Abstract Namespace /////////////////////////////////
		///////////////////////////////////////////////////////////////////////////////

	/////////////////////////////////////////////////////////////////////////////////////
	} /// End SqlPi::Transport Namespace ///////////////////////////////////////////////
	///////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////
} /// End SqlPi Namespace //////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////
#endif /// End Definitions /////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////
